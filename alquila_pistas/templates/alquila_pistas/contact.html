{% extends "base.html" %}  {# Hereda de la plantilla base #}
{% load static %}  {# Carga la biblioteca para archivos estáticos #}

{% block links %}
    {# Contenedor principal #}
    <div class="container my-5">
        {# Tarjeta principal con efecto hover #}
        <div class="card shadow-lg border-0 rounded-4 hover-card">
            <div class="card-body p-5">
                {# Encabezado del formulario #}
                <div class="text-center mb-4">
                    <i class="fas fa-envelope-open-text fa-3x text-primary mb-3 icon-bounce"></i>
                    <h3 class="mb-2 text-primary fw-bold">Contáctanos</h3>
                    <p class="text-muted">Estamos aquí para responder tus consultas</p>
                </div>

                {# Formulario de contacto #}
                <form action="" method="POST" class="row g-3">
                    {% csrf_token %} {# Token de seguridad de Django #}

                    {# Campo de nombre de usuario #}
                    <div class="mb-3 form-floating">
                        <div class="input-group">
                            <span class="input-group-text bg-primary text-white">
                                <i class="fas fa-user">Nombre de Usuario:</i>
                            </span>
                            {{ form.name }}
                        </div>
                        {{ form.name.errors }}
                    </div>

                    {# Campo de email #}
                    <div class="mb-3 form-floating">
                        <div class="input-group">
                            <span class="input-group-text bg-primary text-white">
                                <i class="fas fa-at"></i>
                            </span>
                            {{ form.email }}
                        </div>
                        {{ form.email.errors }}
                    </div>

                    {# Campo de mensaje #}
                    <div class="mb-4 form-floating">
                        <div class="input-group">
                            <span class="input-group-text bg-primary text-white">
                                <i class="fas fa-comment-alt"></i>
                            </span>
                            {{ form.message }}
                        </div>
                        {{ form.message.errors }}
                    </div>

                    {# Mensaje de éxito #}
                    {% if 'ok' in request.GET %}
                        <div class="alert alert-success mt-4 slide-in text-center" role="alert">
                            <i class="fas fa-check-circle me-2"></i>
                            <strong>¡Mensaje enviado!</strong> Gracias por contactarnos.
                        </div>
                    {% endif %}

                    {# Mensaje de error #}
                    {% if 'error' in request.GET %}
                        <div class="alert alert-danger mt-4 slide-in" role="alert">
                            <i class="fas fa-exclamation-circle me-2"></i>
                            <strong>¡Mensaje fallido!</strong> Inténtelo de nuevo
                        </div>
                    {% endif %}

                    {# Botón de envío #}
                    <div class="text-center mt-4">
                        <button type="submit" class="btn btn-primary btn-lg px-5 py-2 rounded-pill hover-button">
                            <i class="fas fa-paper-plane me-2"></i>
                            Enviar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    {# Estilos CSS personalizados #}
    <style>
        /* Efecto hover para la tarjeta */
        .hover-card {
            transition: transform 0.3s ease-in-out;
        }

        .hover-card:hover {
            transform: translateY(-5px);
        }

        /* Efecto hover para botones */
        .hover-button {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .hover-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.4);
        }

        /* Estilos para grupos de inputs */
        .input-group-text {
            border: none;
        }

        .form-control {
            border-left: none;
            padding-left: 15px;
        }

        .form-control:focus {
            border-color: #0d6efd;
            box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
        }

        /* Animación de rebote para el ícono */
        .icon-bounce {
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-20px);
            }
            60% {
                transform: translateY(-10px);
            }
        }

        /* Animación de entrada deslizante */
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Estilos para grupos de inputs con sombras */
        .input-group {
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-radius: 0.375rem;
        }

        .input-group:focus-within {
            box-shadow: 0 2px 10px rgba(13, 110, 253, 0.2);
        }
    </style>
{% endblock %}